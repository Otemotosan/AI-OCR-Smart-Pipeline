{
  "version": 4,
  "terraform_version": "1.5.7",
  "serial": 167,
  "lineage": "c45e367f-958e-9aba-bc35-5606b91aecdb",
  "outputs": {
    "deployment_summary": {
      "value": {
        "api_url": "not deployed",
        "bigquery_dataset": "ocr_pipeline_staging",
        "environment": "staging",
        "input_bucket": "ai-ocr-smart-pipeline-ocr-input-staging",
        "project_id": "ai-ocr-smart-pipeline",
        "region": "asia-northeast1",
        "ui_url": "not deployed"
      },
      "type": [
        "object",
        {
          "api_url": "string",
          "bigquery_dataset": "string",
          "environment": "string",
          "input_bucket": "string",
          "project_id": "string",
          "region": "string",
          "ui_url": "string"
        }
      ]
    }
  },
  "resources": [
    {
      "module": "module.ocr_pipeline",
      "mode": "managed",
      "type": "google_project_service",
      "name": "apis",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "index_key": "aiplatform.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/aiplatform.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "aiplatform.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "artifactregistry.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/artifactregistry.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "artifactregistry.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "bigquery.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/bigquery.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "bigquery.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "cloudbuild.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/cloudbuild.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "cloudbuild.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "cloudfunctions.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/cloudfunctions.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "cloudfunctions.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "cloudkms.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/cloudkms.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "cloudkms.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "cloudscheduler.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/cloudscheduler.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "cloudscheduler.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "documentai.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/documentai.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "documentai.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "firestore.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/firestore.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "firestore.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "iap.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/iap.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "iap.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "logging.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/logging.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "logging.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "monitoring.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/monitoring.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "monitoring.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "pubsub.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/pubsub.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "pubsub.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "run.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/run.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "run.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "secretmanager.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/secretmanager.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "secretmanager.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        },
        {
          "index_key": "storage.googleapis.com",
          "schema_version": 0,
          "attributes": {
            "disable_dependent_services": null,
            "disable_on_destroy": false,
            "id": "ai-ocr-smart-pipeline/storage.googleapis.com",
            "project": "ai-ocr-smart-pipeline",
            "service": "storage.googleapis.com",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInJlYWQiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0="
        }
      ]
    },
    {
      "module": "module.ocr_pipeline",
      "mode": "managed",
      "type": "google_storage_bucket",
      "name": "function_source",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "autoclass": [],
            "cors": [],
            "custom_placement_config": [],
            "default_event_based_hold": false,
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "enable_object_retention": false,
            "encryption": [],
            "force_destroy": false,
            "id": "ai-ocr-smart-pipeline-function-source-staging",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "lifecycle_rule": [
              {
                "action": [
                  {
                    "storage_class": "",
                    "type": "Delete"
                  }
                ],
                "condition": [
                  {
                    "age": 0,
                    "created_before": "",
                    "custom_time_before": "",
                    "days_since_custom_time": 0,
                    "days_since_noncurrent_time": 0,
                    "matches_prefix": [],
                    "matches_storage_class": [],
                    "matches_suffix": [],
                    "no_age": false,
                    "noncurrent_time_before": "",
                    "num_newer_versions": 5,
                    "send_age_if_zero": true,
                    "send_days_since_custom_time_if_zero": false,
                    "send_days_since_noncurrent_time_if_zero": false,
                    "send_num_newer_versions_if_zero": false,
                    "with_state": "ANY"
                  }
                ]
              }
            ],
            "location": "ASIA-NORTHEAST1",
            "logging": [],
            "name": "ai-ocr-smart-pipeline-function-source-staging",
            "project": "ai-ocr-smart-pipeline",
            "project_number": 672754156190,
            "public_access_prevention": "inherited",
            "requester_pays": false,
            "retention_policy": [],
            "rpo": null,
            "self_link": "https://www.googleapis.com/storage/v1/b/ai-ocr-smart-pipeline-function-source-staging",
            "soft_delete_policy": [
              {
                "effective_time": "2026-01-20T21:57:35.051Z",
                "retention_duration_seconds": 604800
              }
            ],
            "storage_class": "STANDARD",
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "timeouts": null,
            "uniform_bucket_level_access": true,
            "url": "gs://ai-ocr-smart-pipeline-function-source-staging",
            "versioning": [
              {
                "enabled": true
              }
            ],
            "website": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMCwidXBkYXRlIjoyNDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.bigquery",
      "mode": "managed",
      "type": "google_bigquery_dataset",
      "name": "ocr_pipeline",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "access": [
              {
                "dataset": [],
                "domain": "",
                "group_by_email": "",
                "iam_member": "",
                "role": "OWNER",
                "routine": [],
                "special_group": "projectOwners",
                "user_by_email": "",
                "view": []
              },
              {
                "dataset": [],
                "domain": "",
                "group_by_email": "",
                "iam_member": "",
                "role": "WRITER",
                "routine": [],
                "special_group": "",
                "user_by_email": "ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
                "view": []
              }
            ],
            "creation_time": 1768924721922,
            "dataset_id": "ocr_pipeline_staging",
            "default_collation": "",
            "default_encryption_configuration": [],
            "default_partition_expiration_ms": 0,
            "default_table_expiration_ms": 0,
            "delete_contents_on_destroy": false,
            "description": "OCR Pipeline analytics data (staging)",
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "etag": "YEfoAQLoGB+LN2OLxm0AGA==",
            "external_dataset_reference": [],
            "friendly_name": "",
            "id": "projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging",
            "is_case_insensitive": false,
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "last_modified_time": 1768924721922,
            "location": "asia-northeast1",
            "max_time_travel_hours": "168",
            "project": "ai-ocr-smart-pipeline",
            "resource_tags": {},
            "self_link": "https://bigquery.googleapis.com/bigquery/v2/projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging",
            "storage_billing_model": "",
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.bigquery",
      "mode": "managed",
      "type": "google_bigquery_table",
      "name": "correction_rate_view",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_resource_tags_on_deletion": false,
            "clustering": null,
            "creation_time": 1768925416194,
            "dataset_id": "ocr_pipeline_staging",
            "deletion_protection": false,
            "description": "",
            "effective_labels": {},
            "encryption_configuration": [],
            "etag": "RqIWKIxx2viEAsdUlLhe6g==",
            "expiration_time": 0,
            "external_data_configuration": [],
            "friendly_name": "",
            "id": "projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging/tables/correction_rate",
            "labels": {},
            "last_modified_time": 1768925416492,
            "location": "asia-northeast1",
            "materialized_view": [],
            "max_staleness": "",
            "num_bytes": 0,
            "num_long_term_bytes": 0,
            "num_rows": 0,
            "project": "ai-ocr-smart-pipeline",
            "range_partitioning": [],
            "require_partition_filter": false,
            "resource_tags": {},
            "schema": "[{\"mode\":\"NULLABLE\",\"name\":\"correction_date\",\"type\":\"DATE\"},{\"mode\":\"NULLABLE\",\"name\":\"documents_corrected\",\"type\":\"INTEGER\"},{\"mode\":\"NULLABLE\",\"name\":\"total_corrections\",\"type\":\"INTEGER\"},{\"mode\":\"NULLABLE\",\"name\":\"corrections_per_document\",\"type\":\"FLOAT\"}]",
            "self_link": "https://bigquery.googleapis.com/bigquery/v2/projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging/tables/correction_rate",
            "table_constraints": [],
            "table_id": "correction_rate",
            "table_replication_info": [],
            "terraform_labels": {},
            "time_partitioning": [],
            "type": "VIEW",
            "view": [
              {
                "query": "SELECT\n  DATE(c.corrected_at) as correction_date,\n  COUNT(DISTINCT c.document_id) as documents_corrected,\n  COUNT(*) as total_corrections,\n  COUNT(*) / COUNT(DISTINCT c.document_id) as corrections_per_document\nFROM `ai-ocr-smart-pipeline.ocr_pipeline_staging.corrections` c\nWHERE c.corrected_at \u003e= TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 30 DAY)\nGROUP BY correction_date\nORDER BY correction_date DESC\n",
                "use_legacy_sql": false
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.bigquery.google_bigquery_dataset.ocr_pipeline",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.corrections",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.bigquery",
      "mode": "managed",
      "type": "google_bigquery_table",
      "name": "corrections",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_resource_tags_on_deletion": false,
            "clustering": null,
            "creation_time": 1768924723796,
            "dataset_id": "ocr_pipeline_staging",
            "deletion_protection": false,
            "description": "Human corrections and audit trail",
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "encryption_configuration": [],
            "etag": "vEGwzOIcmPoEj/I7u0k3MA==",
            "expiration_time": 0,
            "external_data_configuration": [],
            "friendly_name": "",
            "id": "projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging/tables/corrections",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "last_modified_time": 1768924723926,
            "location": "asia-northeast1",
            "materialized_view": [],
            "max_staleness": "",
            "num_bytes": 0,
            "num_long_term_bytes": 0,
            "num_rows": 0,
            "project": "ai-ocr-smart-pipeline",
            "range_partitioning": [],
            "require_partition_filter": false,
            "resource_tags": {},
            "schema": "[{\"description\":\"Unique correction ID\",\"mode\":\"REQUIRED\",\"name\":\"correction_id\",\"type\":\"STRING\"},{\"description\":\"Document being corrected\",\"mode\":\"REQUIRED\",\"name\":\"document_id\",\"type\":\"STRING\"},{\"description\":\"User who made correction\",\"mode\":\"REQUIRED\",\"name\":\"user_id\",\"type\":\"STRING\"},{\"description\":\"Field that was corrected\",\"mode\":\"NULLABLE\",\"name\":\"field_name\",\"type\":\"STRING\"},{\"description\":\"Value before correction\",\"mode\":\"NULLABLE\",\"name\":\"before_value\",\"type\":\"STRING\"},{\"description\":\"Value after correction\",\"mode\":\"NULLABLE\",\"name\":\"after_value\",\"type\":\"STRING\"},{\"description\":\"Full data before correction\",\"mode\":\"NULLABLE\",\"name\":\"before_data\",\"type\":\"JSON\"},{\"description\":\"Full data after correction\",\"mode\":\"NULLABLE\",\"name\":\"after_data\",\"type\":\"JSON\"},{\"description\":\"Type of correction\",\"mode\":\"NULLABLE\",\"name\":\"correction_type\",\"type\":\"STRING\"},{\"description\":\"Correction timestamp\",\"mode\":\"REQUIRED\",\"name\":\"corrected_at\",\"type\":\"TIMESTAMP\"}]",
            "self_link": "https://bigquery.googleapis.com/bigquery/v2/projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging/tables/corrections",
            "table_constraints": [],
            "table_id": "corrections",
            "table_replication_info": [],
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "time_partitioning": [
              {
                "expiration_ms": 0,
                "field": "corrected_at",
                "require_partition_filter": false,
                "type": "DAY"
              }
            ],
            "type": "TABLE",
            "view": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.bigquery.google_bigquery_dataset.ocr_pipeline",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.bigquery",
      "mode": "managed",
      "type": "google_bigquery_table",
      "name": "daily_stats_view",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_resource_tags_on_deletion": false,
            "clustering": null,
            "creation_time": 1768925416205,
            "dataset_id": "ocr_pipeline_staging",
            "deletion_protection": false,
            "description": "",
            "effective_labels": {},
            "encryption_configuration": [],
            "etag": "605aq4HVCbMj+4tjJihrPA==",
            "expiration_time": 0,
            "external_data_configuration": [],
            "friendly_name": "",
            "id": "projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging/tables/daily_processing_stats",
            "labels": {},
            "last_modified_time": 1768925416503,
            "location": "asia-northeast1",
            "materialized_view": [],
            "max_staleness": "",
            "num_bytes": 0,
            "num_long_term_bytes": 0,
            "num_rows": 0,
            "project": "ai-ocr-smart-pipeline",
            "range_partitioning": [],
            "require_partition_filter": false,
            "resource_tags": {},
            "schema": "[{\"mode\":\"NULLABLE\",\"name\":\"processing_date\",\"type\":\"DATE\"},{\"mode\":\"NULLABLE\",\"name\":\"document_type\",\"type\":\"STRING\"},{\"mode\":\"NULLABLE\",\"name\":\"total_documents\",\"type\":\"INTEGER\"},{\"mode\":\"NULLABLE\",\"name\":\"avg_confidence\",\"type\":\"FLOAT\"},{\"mode\":\"NULLABLE\",\"name\":\"avg_duration_ms\",\"type\":\"FLOAT\"},{\"mode\":\"NULLABLE\",\"name\":\"flash_count\",\"type\":\"INTEGER\"},{\"mode\":\"NULLABLE\",\"name\":\"pro_count\",\"type\":\"INTEGER\"},{\"mode\":\"NULLABLE\",\"name\":\"avg_attempts\",\"type\":\"FLOAT\"}]",
            "self_link": "https://bigquery.googleapis.com/bigquery/v2/projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging/tables/daily_processing_stats",
            "table_constraints": [],
            "table_id": "daily_processing_stats",
            "table_replication_info": [],
            "terraform_labels": {},
            "time_partitioning": [],
            "type": "VIEW",
            "view": [
              {
                "query": "SELECT\n  DATE(processed_at) as processing_date,\n  document_type,\n  COUNT(*) as total_documents,\n  AVG(confidence_score) as avg_confidence,\n  AVG(processing_duration_ms) as avg_duration_ms,\n  COUNTIF(model_used = 'flash') as flash_count,\n  COUNTIF(model_used = 'pro') as pro_count,\n  AVG(attempts_count) as avg_attempts\nFROM `ai-ocr-smart-pipeline.ocr_pipeline_staging.extraction_results`\nWHERE processed_at \u003e= TIMESTAMP_SUB(CURRENT_TIMESTAMP(), INTERVAL 30 DAY)\nGROUP BY processing_date, document_type\nORDER BY processing_date DESC\n",
                "use_legacy_sql": false
              }
            ]
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.bigquery.google_bigquery_dataset.ocr_pipeline",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.extraction_results",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.bigquery",
      "mode": "managed",
      "type": "google_bigquery_table",
      "name": "extraction_results",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "allow_resource_tags_on_deletion": false,
            "clustering": [
              "document_type"
            ],
            "creation_time": 1768924723777,
            "dataset_id": "ocr_pipeline_staging",
            "deletion_protection": false,
            "description": "Extraction results from document processing",
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "encryption_configuration": [],
            "etag": "7VC4LvyFHRacU26Euybsng==",
            "expiration_time": 0,
            "external_data_configuration": [],
            "friendly_name": "",
            "id": "projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging/tables/extraction_results",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "last_modified_time": 1768924723825,
            "location": "asia-northeast1",
            "materialized_view": [],
            "max_staleness": "",
            "num_bytes": 0,
            "num_long_term_bytes": 0,
            "num_rows": 0,
            "project": "ai-ocr-smart-pipeline",
            "range_partitioning": [],
            "require_partition_filter": false,
            "resource_tags": {},
            "schema": "[{\"description\":\"SHA-256 hash of document\",\"mode\":\"REQUIRED\",\"name\":\"document_id\",\"type\":\"STRING\"},{\"description\":\"Type of document (delivery_note, invoice)\",\"mode\":\"REQUIRED\",\"name\":\"document_type\",\"type\":\"STRING\"},{\"description\":\"Schema version used\",\"mode\":\"REQUIRED\",\"name\":\"schema_version\",\"type\":\"STRING\"},{\"description\":\"Extracted management ID\",\"mode\":\"NULLABLE\",\"name\":\"management_id\",\"type\":\"STRING\"},{\"description\":\"Extracted company name\",\"mode\":\"NULLABLE\",\"name\":\"company_name\",\"type\":\"STRING\"},{\"description\":\"Document date for partitioning\",\"mode\":\"NULLABLE\",\"name\":\"document_date\",\"type\":\"DATE\"},{\"description\":\"Issue date from document\",\"mode\":\"NULLABLE\",\"name\":\"issue_date\",\"type\":\"DATE\"},{\"description\":\"Full extracted data as JSON\",\"mode\":\"NULLABLE\",\"name\":\"extracted_data\",\"type\":\"JSON\"},{\"description\":\"Extraction confidence score\",\"mode\":\"NULLABLE\",\"name\":\"confidence_score\",\"type\":\"FLOAT\"},{\"description\":\"Model used (flash, pro)\",\"mode\":\"NULLABLE\",\"name\":\"model_used\",\"type\":\"STRING\"},{\"description\":\"Number of extraction attempts\",\"mode\":\"NULLABLE\",\"name\":\"attempts_count\",\"type\":\"INTEGER\"},{\"description\":\"Processing time in milliseconds\",\"mode\":\"NULLABLE\",\"name\":\"processing_duration_ms\",\"type\":\"INTEGER\"},{\"description\":\"Original document URI\",\"mode\":\"NULLABLE\",\"name\":\"source_uri\",\"type\":\"STRING\"},{\"description\":\"Organized document URI\",\"mode\":\"NULLABLE\",\"name\":\"destination_uri\",\"type\":\"STRING\"},{\"description\":\"Quality linter warnings\",\"mode\":\"REPEATED\",\"name\":\"quality_warnings\",\"type\":\"STRING\"},{\"description\":\"Processing timestamp\",\"mode\":\"NULLABLE\",\"name\":\"processed_at\",\"type\":\"TIMESTAMP\"},{\"description\":\"Record creation timestamp\",\"mode\":\"REQUIRED\",\"name\":\"created_at\",\"type\":\"TIMESTAMP\"}]",
            "self_link": "https://bigquery.googleapis.com/bigquery/v2/projects/ai-ocr-smart-pipeline/datasets/ocr_pipeline_staging/tables/extraction_results",
            "table_constraints": [],
            "table_id": "extraction_results",
            "table_replication_info": [],
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "time_partitioning": [
              {
                "expiration_ms": 0,
                "field": "document_date",
                "require_partition_filter": false,
                "type": "DAY"
              }
            ],
            "type": "TABLE",
            "view": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.bigquery.google_bigquery_dataset.ocr_pipeline",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.firestore",
      "mode": "managed",
      "type": "google_firestore_database",
      "name": "default",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "app_engine_integration_mode": "DISABLED",
            "cmek_config": [],
            "concurrency_mode": "PESSIMISTIC",
            "create_time": "",
            "delete_protection_state": "DELETE_PROTECTION_DISABLED",
            "deletion_policy": "ABANDON",
            "earliest_version_time": "2026-01-21T21:17:04.766936Z",
            "etag": "IIqT4sXUnZIDMMqknoi+mpID",
            "id": "projects/ai-ocr-smart-pipeline/databases/(default)",
            "key_prefix": "",
            "location_id": "asia-northeast1",
            "name": "(default)",
            "point_in_time_recovery_enablement": "POINT_IN_TIME_RECOVERY_DISABLED",
            "project": "ai-ocr-smart-pipeline",
            "timeouts": null,
            "type": "FIRESTORE_NATIVE",
            "uid": "085733d6-3824-4d0c-b77c-1ea6bb002cf8",
            "update_time": "",
            "version_retention_period": "3600s"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.firestore",
      "mode": "managed",
      "type": "google_firestore_index",
      "name": "audit_log_document_timestamp",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_scope": "ANY_API",
            "collection": "audit_log",
            "database": "(default)",
            "fields": [
              {
                "array_config": "",
                "field_path": "document_id",
                "order": "ASCENDING",
                "vector_config": []
              },
              {
                "array_config": "",
                "field_path": "timestamp",
                "order": "DESCENDING",
                "vector_config": []
              },
              {
                "array_config": "",
                "field_path": "__name__",
                "order": "DESCENDING",
                "vector_config": []
              }
            ],
            "id": "projects/ai-ocr-smart-pipeline/databases/(default)/collectionGroups/audit_log/indexes/CICAgOjXh4EK",
            "name": "projects/ai-ocr-smart-pipeline/databases/(default)/collectionGroups/audit_log/indexes/CICAgOjXh4EK",
            "project": "ai-ocr-smart-pipeline",
            "query_scope": "COLLECTION",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.firestore.google_firestore_database.default"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.firestore",
      "mode": "managed",
      "type": "google_firestore_index",
      "name": "documents_status_created",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_scope": "ANY_API",
            "collection": "processed_documents",
            "database": "(default)",
            "fields": [
              {
                "array_config": "",
                "field_path": "status",
                "order": "ASCENDING",
                "vector_config": []
              },
              {
                "array_config": "",
                "field_path": "created_at",
                "order": "DESCENDING",
                "vector_config": []
              },
              {
                "array_config": "",
                "field_path": "__name__",
                "order": "DESCENDING",
                "vector_config": []
              }
            ],
            "id": "projects/ai-ocr-smart-pipeline/databases/(default)/collectionGroups/processed_documents/indexes/CICAgJiUpoMJ",
            "name": "projects/ai-ocr-smart-pipeline/databases/(default)/collectionGroups/processed_documents/indexes/CICAgJiUpoMJ",
            "project": "ai-ocr-smart-pipeline",
            "query_scope": "COLLECTION",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.firestore.google_firestore_database.default"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.firestore",
      "mode": "managed",
      "type": "google_firestore_index",
      "name": "drafts_user_updated",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_scope": "ANY_API",
            "collection": "drafts",
            "database": "(default)",
            "fields": [
              {
                "array_config": "",
                "field_path": "user_id",
                "order": "ASCENDING",
                "vector_config": []
              },
              {
                "array_config": "",
                "field_path": "updated_at",
                "order": "DESCENDING",
                "vector_config": []
              },
              {
                "array_config": "",
                "field_path": "__name__",
                "order": "DESCENDING",
                "vector_config": []
              }
            ],
            "id": "projects/ai-ocr-smart-pipeline/databases/(default)/collectionGroups/drafts/indexes/CICAgJim14AK",
            "name": "projects/ai-ocr-smart-pipeline/databases/(default)/collectionGroups/drafts/indexes/CICAgJim14AK",
            "project": "ai-ocr-smart-pipeline",
            "query_scope": "COLLECTION",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.firestore.google_firestore_database.default"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.firestore",
      "mode": "managed",
      "type": "google_firestore_index",
      "name": "locks_status_expires",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_scope": "ANY_API",
            "collection": "processed_documents",
            "database": "(default)",
            "fields": [
              {
                "array_config": "",
                "field_path": "status",
                "order": "ASCENDING",
                "vector_config": []
              },
              {
                "array_config": "",
                "field_path": "lock_expires_at",
                "order": "ASCENDING",
                "vector_config": []
              },
              {
                "array_config": "",
                "field_path": "__name__",
                "order": "ASCENDING",
                "vector_config": []
              }
            ],
            "id": "projects/ai-ocr-smart-pipeline/databases/(default)/collectionGroups/processed_documents/indexes/CICAgOi3kJAK",
            "name": "projects/ai-ocr-smart-pipeline/databases/(default)/collectionGroups/processed_documents/indexes/CICAgOi3kJAK",
            "project": "ai-ocr-smart-pipeline",
            "query_scope": "COLLECTION",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.firestore.google_firestore_database.default"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.functions[0]",
      "mode": "managed",
      "type": "google_cloud_scheduler_job",
      "name": "health_check",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "app_engine_http_target": [],
            "attempt_deadline": "180s",
            "description": "Periodic health check",
            "http_target": [
              {
                "body": "",
                "headers": {},
                "http_method": "POST",
                "oauth_token": [],
                "oidc_token": [
                  {
                    "audience": "https://ocr-health-check-staging-6fn7reqyra-an.a.run.app/",
                    "service_account_email": "ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com"
                  }
                ],
                "uri": "https://ocr-health-check-staging-6fn7reqyra-an.a.run.app/"
              }
            ],
            "id": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/jobs/ocr-health-check-staging",
            "name": "ocr-health-check-staging",
            "paused": false,
            "project": "ai-ocr-smart-pipeline",
            "pubsub_target": [],
            "region": "asia-northeast1",
            "retry_config": [
              {
                "max_backoff_duration": "3600s",
                "max_doublings": 5,
                "max_retry_duration": "0s",
                "min_backoff_duration": "5s",
                "retry_count": 3
              }
            ],
            "schedule": "*/15 * * * *",
            "state": "ENABLED",
            "time_zone": "Asia/Tokyo",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.google_storage_bucket.function_source",
            "module.ocr_pipeline.module.bigquery.google_bigquery_dataset.ocr_pipeline",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.correction_rate_view",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.corrections",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.daily_stats_view",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.extraction_results",
            "module.ocr_pipeline.module.functions.google_cloudfunctions2_function.health_check",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.data.google_storage_project_service_account.gcs_account",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.dead_letter",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.document_uploaded",
            "module.ocr_pipeline.module.storage.google_pubsub_topic_iam_member.storage_publisher",
            "module.ocr_pipeline.module.storage.google_storage_bucket.input",
            "module.ocr_pipeline.module.storage.google_storage_bucket.output",
            "module.ocr_pipeline.module.storage.google_storage_bucket.quarantine",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.input_processor",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.output_processor",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.quarantine_processor",
            "module.ocr_pipeline.module.storage.google_storage_notification.input_notification"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.functions[0]",
      "mode": "managed",
      "type": "google_cloudfunctions2_function",
      "name": "alert_handler",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "build_config": [
              {
                "automatic_update_policy": [
                  {}
                ],
                "build": "projects/672754156190/locations/asia-northeast1/builds/819003b9-7321-421b-983e-8eb8567abe0b",
                "docker_repository": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/repositories/gcf-artifacts",
                "entry_point": "handle_dead_letter",
                "environment_variables": {},
                "on_deploy_update_policy": [],
                "runtime": "python311",
                "service_account": "projects/ai-ocr-smart-pipeline/serviceAccounts/672754156190-compute@developer.gserviceaccount.com",
                "source": [
                  {
                    "repo_source": [],
                    "storage_source": [
                      {
                        "bucket": "ai-ocr-smart-pipeline-function-source-staging",
                        "generation": 1768992470632721,
                        "object": "processor-source.zip"
                      }
                    ]
                  }
                ],
                "worker_pool": ""
              }
            ],
            "description": "Handles dead letter queue and sends alerts",
            "effective_labels": {
              "environment": "staging",
              "function": "alert-handler",
              "service": "ocr-pipeline"
            },
            "environment": "GEN_2",
            "event_trigger": [
              {
                "event_filters": [],
                "event_type": "google.cloud.pubsub.topic.v1.messagePublished",
                "pubsub_topic": "projects/ai-ocr-smart-pipeline/topics/ocr-dead-letter-staging",
                "retry_policy": "RETRY_POLICY_DO_NOT_RETRY",
                "service_account_email": "672754156190-compute@developer.gserviceaccount.com",
                "trigger": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/triggers/ocr-alert-handler-staging-316469",
                "trigger_region": "asia-northeast1"
              }
            ],
            "id": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/functions/ocr-alert-handler-staging",
            "kms_key_name": "",
            "labels": {
              "environment": "staging",
              "function": "alert-handler",
              "service": "ocr-pipeline"
            },
            "location": "asia-northeast1",
            "name": "ocr-alert-handler-staging",
            "project": "ai-ocr-smart-pipeline",
            "service_config": [
              {
                "all_traffic_on_latest_revision": true,
                "available_cpu": "0.1666",
                "available_memory": "256Mi",
                "environment_variables": {
                  "ENVIRONMENT": "staging",
                  "GCP_PROJECT_ID": "ai-ocr-smart-pipeline",
                  "LOG_EXECUTION_ID": "true"
                },
                "gcf_uri": "",
                "ingress_settings": "ALLOW_ALL",
                "max_instance_count": 2,
                "max_instance_request_concurrency": 1,
                "min_instance_count": 0,
                "secret_environment_variables": [
                  {
                    "key": "SLACK_WEBHOOK_URL",
                    "project_id": "ai-ocr-smart-pipeline",
                    "secret": "slack-webhook-staging",
                    "version": "latest"
                  }
                ],
                "secret_volumes": [],
                "service": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/services/ocr-alert-handler-staging",
                "service_account_email": "ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
                "timeout_seconds": 60,
                "uri": "https://ocr-alert-handler-staging-6fn7reqyra-an.a.run.app",
                "vpc_connector": "",
                "vpc_connector_egress_settings": ""
              }
            ],
            "state": "ACTIVE",
            "terraform_labels": {
              "environment": "staging",
              "function": "alert-handler",
              "service": "ocr-pipeline"
            },
            "timeouts": null,
            "update_time": "2026-01-21T10:49:29.247363886Z",
            "url": "https://asia-northeast1-ai-ocr-smart-pipeline.cloudfunctions.net/ocr-alert-handler-staging"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.google_storage_bucket.function_source",
            "module.ocr_pipeline.module.bigquery.google_bigquery_dataset.ocr_pipeline",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.correction_rate_view",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.corrections",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.daily_stats_view",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.extraction_results",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.data.google_storage_project_service_account.gcs_account",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.dead_letter",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.document_uploaded",
            "module.ocr_pipeline.module.storage.google_pubsub_topic_iam_member.storage_publisher",
            "module.ocr_pipeline.module.storage.google_storage_bucket.input",
            "module.ocr_pipeline.module.storage.google_storage_bucket.output",
            "module.ocr_pipeline.module.storage.google_storage_bucket.quarantine",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.input_processor",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.output_processor",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.quarantine_processor",
            "module.ocr_pipeline.module.storage.google_storage_notification.input_notification"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.functions[0]",
      "mode": "managed",
      "type": "google_cloudfunctions2_function",
      "name": "health_check",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "build_config": [
              {
                "automatic_update_policy": [
                  {}
                ],
                "build": "projects/672754156190/locations/asia-northeast1/builds/72f36916-5c0b-40ed-9b12-a62fec077ed0",
                "docker_repository": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/repositories/gcf-artifacts",
                "entry_point": "health_check",
                "environment_variables": {},
                "on_deploy_update_policy": [],
                "runtime": "python311",
                "service_account": "projects/ai-ocr-smart-pipeline/serviceAccounts/672754156190-compute@developer.gserviceaccount.com",
                "source": [
                  {
                    "repo_source": [],
                    "storage_source": [
                      {
                        "bucket": "ai-ocr-smart-pipeline-function-source-staging",
                        "generation": 1768992470485337,
                        "object": "processor-source.zip"
                      }
                    ]
                  }
                ],
                "worker_pool": ""
              }
            ],
            "description": "Health check endpoint for monitoring",
            "effective_labels": {
              "environment": "staging",
              "function": "health-check",
              "service": "ocr-pipeline"
            },
            "environment": "GEN_2",
            "event_trigger": [],
            "id": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/functions/ocr-health-check-staging",
            "kms_key_name": "",
            "labels": {
              "environment": "staging",
              "function": "health-check",
              "service": "ocr-pipeline"
            },
            "location": "asia-northeast1",
            "name": "ocr-health-check-staging",
            "project": "ai-ocr-smart-pipeline",
            "service_config": [
              {
                "all_traffic_on_latest_revision": true,
                "available_cpu": "0.1666",
                "available_memory": "256Mi",
                "environment_variables": {
                  "ENVIRONMENT": "staging",
                  "GCP_PROJECT_ID": "ai-ocr-smart-pipeline",
                  "LOG_EXECUTION_ID": "true"
                },
                "gcf_uri": "",
                "ingress_settings": "ALLOW_ALL",
                "max_instance_count": 2,
                "max_instance_request_concurrency": 1,
                "min_instance_count": 0,
                "secret_environment_variables": [
                  {
                    "key": "SLACK_WEBHOOK_URL",
                    "project_id": "ai-ocr-smart-pipeline",
                    "secret": "slack-webhook-staging",
                    "version": "latest"
                  }
                ],
                "secret_volumes": [],
                "service": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/services/ocr-health-check-staging",
                "service_account_email": "ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
                "timeout_seconds": 60,
                "uri": "https://ocr-health-check-staging-6fn7reqyra-an.a.run.app",
                "vpc_connector": "",
                "vpc_connector_egress_settings": ""
              }
            ],
            "state": "ACTIVE",
            "terraform_labels": {
              "environment": "staging",
              "function": "health-check",
              "service": "ocr-pipeline"
            },
            "timeouts": null,
            "update_time": "2026-01-21T10:49:19.066249583Z",
            "url": "https://asia-northeast1-ai-ocr-smart-pipeline.cloudfunctions.net/ocr-health-check-staging"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.google_storage_bucket.function_source",
            "module.ocr_pipeline.module.bigquery.google_bigquery_dataset.ocr_pipeline",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.correction_rate_view",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.corrections",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.daily_stats_view",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.extraction_results",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.data.google_storage_project_service_account.gcs_account",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.dead_letter",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.document_uploaded",
            "module.ocr_pipeline.module.storage.google_pubsub_topic_iam_member.storage_publisher",
            "module.ocr_pipeline.module.storage.google_storage_bucket.input",
            "module.ocr_pipeline.module.storage.google_storage_bucket.output",
            "module.ocr_pipeline.module.storage.google_storage_bucket.quarantine",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.input_processor",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.output_processor",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.quarantine_processor",
            "module.ocr_pipeline.module.storage.google_storage_notification.input_notification"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.functions[0]",
      "mode": "managed",
      "type": "google_cloudfunctions2_function",
      "name": "processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "status": "tainted",
          "schema_version": 0,
          "attributes": {
            "build_config": [
              {
                "automatic_update_policy": [
                  {}
                ],
                "build": "projects/672754156190/locations/asia-northeast1/builds/8771c67c-8b6a-46ac-9fc3-70ab36e0709a",
                "docker_repository": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/repositories/gcf-artifacts",
                "entry_point": "process_document",
                "environment_variables": {},
                "on_deploy_update_policy": [],
                "runtime": "python311",
                "service_account": "projects/ai-ocr-smart-pipeline/serviceAccounts/672754156190-compute@developer.gserviceaccount.com",
                "source": [
                  {
                    "repo_source": [],
                    "storage_source": [
                      {
                        "bucket": "ai-ocr-smart-pipeline-function-source-staging",
                        "generation": 1769033860346719,
                        "object": "processor-source.zip"
                      }
                    ]
                  }
                ],
                "worker_pool": ""
              }
            ],
            "description": "Processes documents uploaded to input bucket",
            "effective_labels": {
              "environment": "staging",
              "function": "processor",
              "service": "ocr-pipeline"
            },
            "environment": "GEN_2",
            "event_trigger": [
              {
                "event_filters": [
                  {
                    "attribute": "bucket",
                    "operator": "",
                    "value": "ai-ocr-smart-pipeline-ocr-input-staging"
                  }
                ],
                "event_type": "google.cloud.storage.object.v1.finalized",
                "pubsub_topic": "projects/ai-ocr-smart-pipeline/topics/eventarc-asia-northeast1-ocr-processor-staging-865399-951",
                "retry_policy": "RETRY_POLICY_RETRY",
                "service_account_email": "672754156190-compute@developer.gserviceaccount.com",
                "trigger": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/triggers/ocr-processor-staging-865399",
                "trigger_region": "asia-northeast1"
              }
            ],
            "id": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/functions/ocr-processor-staging",
            "kms_key_name": "",
            "labels": {
              "environment": "staging",
              "function": "processor",
              "service": "ocr-pipeline"
            },
            "location": "asia-northeast1",
            "name": "ocr-processor-staging",
            "project": "ai-ocr-smart-pipeline",
            "service_config": [
              {
                "all_traffic_on_latest_revision": true,
                "available_cpu": "0.5833",
                "available_memory": "1Gi",
                "environment_variables": {
                  "BIGQUERY_DATASET": "ocr_pipeline_staging",
                  "DOCUMENT_AI_PROCESSOR": "projects/ai-ocr-smart-pipeline/locations/eu/processors/d7296be3cc8d37c4",
                  "ENVIRONMENT": "staging",
                  "GCP_PROJECT_ID": "ai-ocr-smart-pipeline",
                  "LOG_EXECUTION_ID": "true",
                  "LOG_LEVEL": "INFO",
                  "OUTPUT_BUCKET": "ai-ocr-smart-pipeline-ocr-output-staging",
                  "QUARANTINE_BUCKET": "ai-ocr-smart-pipeline-ocr-quarantine-staging"
                },
                "gcf_uri": "",
                "ingress_settings": "ALLOW_ALL",
                "max_instance_count": 10,
                "max_instance_request_concurrency": 1,
                "min_instance_count": 0,
                "secret_environment_variables": [
                  {
                    "key": "GEMINI_API_KEY",
                    "project_id": "ai-ocr-smart-pipeline",
                    "secret": "gemini-api-key-staging",
                    "version": "latest"
                  }
                ],
                "secret_volumes": [],
                "service": "projects/ai-ocr-smart-pipeline/locations/asia-northeast1/services/ocr-processor-staging",
                "service_account_email": "ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
                "timeout_seconds": 540,
                "uri": "https://ocr-processor-staging-6fn7reqyra-an.a.run.app",
                "vpc_connector": "",
                "vpc_connector_egress_settings": ""
              }
            ],
            "state": "ACTIVE",
            "terraform_labels": {
              "environment": "staging",
              "function": "processor",
              "service": "ocr-pipeline"
            },
            "timeouts": null,
            "update_time": "2026-01-21T22:19:44.387669453Z",
            "url": "https://asia-northeast1-ai-ocr-smart-pipeline.cloudfunctions.net/ocr-processor-staging"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInVwZGF0ZSI6MzYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.google_storage_bucket.function_source",
            "module.ocr_pipeline.module.bigquery.google_bigquery_dataset.ocr_pipeline",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.correction_rate_view",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.corrections",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.daily_stats_view",
            "module.ocr_pipeline.module.bigquery.google_bigquery_table.extraction_results",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.data.google_storage_project_service_account.gcs_account",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.dead_letter",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.document_uploaded",
            "module.ocr_pipeline.module.storage.google_pubsub_topic_iam_member.storage_publisher",
            "module.ocr_pipeline.module.storage.google_storage_bucket.input",
            "module.ocr_pipeline.module.storage.google_storage_bucket.output",
            "module.ocr_pipeline.module.storage.google_storage_bucket.quarantine",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.input_processor",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.output_processor",
            "module.ocr_pipeline.module.storage.google_storage_bucket_iam_member.quarantine_processor",
            "module.ocr_pipeline.module.storage.google_storage_notification.input_notification"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "api_bigquery",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/bigquery.dataViewer/serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/bigquery.dataViewer"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.api"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "api_bigquery_job",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/bigquery.jobUser/serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/bigquery.jobUser"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.api"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "api_firestore",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/datastore.user/serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/datastore.user"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.api"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "api_logging",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/logging.logWriter/serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/logging.logWriter"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.api"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "api_storage",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/storage.objectViewer/serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/storage.objectViewer"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.api"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "processor_aiplatform",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/aiplatform.user/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/aiplatform.user"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "processor_bigquery",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/bigquery.dataEditor/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/bigquery.dataEditor"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "processor_documentai",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/documentai.apiUser/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/documentai.apiUser"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "processor_firestore",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/datastore.user/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/datastore.user"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "processor_logging",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/logging.logWriter/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/logging.logWriter"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "processor_monitoring",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/monitoring.metricWriter/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/monitoring.metricWriter"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "processor_pubsub",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/pubsub.publisher/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/pubsub.publisher"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_project_iam_member",
      "name": "processor_storage",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI47W/3pw=",
            "id": "ai-ocr-smart-pipeline/roles/storage.objectAdmin/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/storage.objectAdmin"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_secret_manager_secret",
      "name": "gemini_api_key",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "annotations": {},
            "create_time": "2026-01-20T15:57:58.504559Z",
            "effective_annotations": {},
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "expire_time": "",
            "id": "projects/ai-ocr-smart-pipeline/secrets/gemini-api-key-staging",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "name": "projects/672754156190/secrets/gemini-api-key-staging",
            "project": "ai-ocr-smart-pipeline",
            "replication": [
              {
                "auto": [
                  {
                    "customer_managed_encryption": []
                  }
                ],
                "user_managed": []
              }
            ],
            "rotation": [],
            "secret_id": "gemini-api-key-staging",
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "timeouts": null,
            "topics": [],
            "ttl": null,
            "version_aliases": {},
            "version_destroy_ttl": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_secret_manager_secret",
      "name": "slack_webhook",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "annotations": {},
            "create_time": "2026-01-20T15:57:58.457782Z",
            "effective_annotations": {},
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "expire_time": "",
            "id": "projects/ai-ocr-smart-pipeline/secrets/slack-webhook-staging",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "name": "projects/672754156190/secrets/slack-webhook-staging",
            "project": "ai-ocr-smart-pipeline",
            "replication": [
              {
                "auto": [
                  {
                    "customer_managed_encryption": []
                  }
                ],
                "user_managed": []
              }
            ],
            "rotation": [],
            "secret_id": "slack-webhook-staging",
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "timeouts": null,
            "topics": [],
            "ttl": null,
            "version_aliases": {},
            "version_destroy_ttl": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_secret_manager_secret_iam_member",
      "name": "processor_gemini_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI0+DRK5k=",
            "id": "projects/ai-ocr-smart-pipeline/secrets/gemini-api-key-staging/roles/secretmanager.secretAccessor/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/secretmanager.secretAccessor",
            "secret_id": "projects/ai-ocr-smart-pipeline/secrets/gemini-api-key-staging"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_secret_manager_secret_iam_member",
      "name": "processor_slack_access",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI0+ALKyM=",
            "id": "projects/ai-ocr-smart-pipeline/secrets/slack-webhook-staging/roles/secretmanager.secretAccessor/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/secretmanager.secretAccessor",
            "secret_id": "projects/ai-ocr-smart-pipeline/secrets/slack-webhook-staging"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_service_account.processor"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_service_account",
      "name": "api",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "ocr-api-staging",
            "create_ignore_already_exists": null,
            "description": "Service account for Review UI API service",
            "disabled": false,
            "display_name": "OCR Pipeline API (staging)",
            "email": "ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "id": "projects/ai-ocr-smart-pipeline/serviceAccounts/ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "name": "projects/ai-ocr-smart-pipeline/serviceAccounts/ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "timeouts": null,
            "unique_id": "110402408821925286075"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_service_account",
      "name": "processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "ocr-processor-staging",
            "create_ignore_already_exists": null,
            "description": "Service account for document processing Cloud Functions",
            "disabled": false,
            "display_name": "OCR Pipeline Processor (staging)",
            "email": "ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "id": "projects/ai-ocr-smart-pipeline/serviceAccounts/ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "name": "projects/ai-ocr-smart-pipeline/serviceAccounts/ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "timeouts": null,
            "unique_id": "110043337195556126778"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.iam",
      "mode": "managed",
      "type": "google_service_account_iam_member",
      "name": "api_storage_signing",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI09/mGqY=",
            "id": "projects/ai-ocr-smart-pipeline/serviceAccounts/ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com/roles/iam.serviceAccountTokenCreator/serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "role": "roles/iam.serviceAccountTokenCreator",
            "service_account_id": "projects/ai-ocr-smart-pipeline/serviceAccounts/ocr-api-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_service_account.api"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.monitoring",
      "mode": "managed",
      "type": "google_logging_metric",
      "name": "pro_usage",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket_name": "",
            "bucket_options": [],
            "description": "Count of Gemini Pro API calls",
            "disabled": false,
            "filter": "resource.type=\"cloud_function\" AND jsonPayload.model=\"pro\"",
            "id": "ocr_pro_usage",
            "label_extractors": {},
            "metric_descriptor": [
              {
                "display_name": "",
                "labels": [],
                "metric_kind": "DELTA",
                "unit": "1",
                "value_type": "INT64"
              }
            ],
            "name": "ocr_pro_usage_staging",
            "project": "ai-ocr-smart-pipeline",
            "timeouts": null,
            "value_extractor": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.monitoring",
      "mode": "managed",
      "type": "google_logging_metric",
      "name": "processing_errors",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket_name": "",
            "bucket_options": [],
            "description": "Count of processing errors",
            "disabled": false,
            "filter": "resource.type=\"cloud_function\" AND severity\u003e=ERROR",
            "id": "ocr_processing_errors_staging",
            "label_extractors": {},
            "metric_descriptor": [
              {
                "display_name": "",
                "labels": [],
                "metric_kind": "DELTA",
                "unit": "1",
                "value_type": "INT64"
              }
            ],
            "name": "ocr_processing_errors_staging",
            "project": "ai-ocr-smart-pipeline",
            "timeouts": null,
            "value_extractor": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "data",
      "type": "google_storage_project_service_account",
      "name": "gcs_account",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "email_address": "service-672754156190@gs-project-accounts.iam.gserviceaccount.com",
            "id": "service-672754156190@gs-project-accounts.iam.gserviceaccount.com",
            "member": "serviceAccount:service-672754156190@gs-project-accounts.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "user_project": null
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_pubsub_topic",
      "name": "dead_letter",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "id": "projects/ai-ocr-smart-pipeline/topics/ocr-dead-letter-staging",
            "ingestion_data_source_settings": [],
            "kms_key_name": "",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "message_retention_duration": "",
            "message_storage_policy": [],
            "name": "ocr-dead-letter-staging",
            "project": "ai-ocr-smart-pipeline",
            "schema_settings": [],
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_pubsub_topic",
      "name": "document_uploaded",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "id": "projects/ai-ocr-smart-pipeline/topics/ocr-document-uploaded-staging",
            "ingestion_data_source_settings": [],
            "kms_key_name": "",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "message_retention_duration": "",
            "message_storage_policy": [],
            "name": "ocr-document-uploaded-staging",
            "project": "ai-ocr-smart-pipeline",
            "schema_settings": [],
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline"
            },
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_pubsub_topic_iam_member",
      "name": "storage_publisher",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "condition": [],
            "etag": "BwZI0+H32NM=",
            "id": "projects/ai-ocr-smart-pipeline/topics/ocr-document-uploaded-staging/roles/pubsub.publisher/serviceAccount:service-672754156190@gs-project-accounts.iam.gserviceaccount.com",
            "member": "serviceAccount:service-672754156190@gs-project-accounts.iam.gserviceaccount.com",
            "project": "ai-ocr-smart-pipeline",
            "role": "roles/pubsub.publisher",
            "topic": "projects/ai-ocr-smart-pipeline/topics/ocr-document-uploaded-staging"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.data.google_storage_project_service_account.gcs_account",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.document_uploaded"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_storage_bucket",
      "name": "input",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "autoclass": [],
            "cors": [],
            "custom_placement_config": [],
            "default_event_based_hold": false,
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "input"
            },
            "enable_object_retention": false,
            "encryption": [],
            "force_destroy": false,
            "id": "ai-ocr-smart-pipeline-ocr-input-staging",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "input"
            },
            "lifecycle_rule": [
              {
                "action": [
                  {
                    "storage_class": "",
                    "type": "Delete"
                  }
                ],
                "condition": [
                  {
                    "age": 7,
                    "created_before": "",
                    "custom_time_before": "",
                    "days_since_custom_time": 0,
                    "days_since_noncurrent_time": 0,
                    "matches_prefix": [],
                    "matches_storage_class": [],
                    "matches_suffix": [],
                    "no_age": false,
                    "noncurrent_time_before": "",
                    "num_newer_versions": 0,
                    "send_age_if_zero": true,
                    "send_days_since_custom_time_if_zero": false,
                    "send_days_since_noncurrent_time_if_zero": false,
                    "send_num_newer_versions_if_zero": false,
                    "with_state": "ANY"
                  }
                ]
              }
            ],
            "location": "ASIA-NORTHEAST1",
            "logging": [],
            "name": "ai-ocr-smart-pipeline-ocr-input-staging",
            "project": "ai-ocr-smart-pipeline",
            "project_number": 672754156190,
            "public_access_prevention": "inherited",
            "requester_pays": false,
            "retention_policy": [],
            "rpo": null,
            "self_link": "https://www.googleapis.com/storage/v1/b/ai-ocr-smart-pipeline-ocr-input-staging",
            "soft_delete_policy": [
              {
                "effective_time": "2026-01-20T15:58:42.452Z",
                "retention_duration_seconds": 604800
              }
            ],
            "storage_class": "STANDARD",
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "input"
            },
            "timeouts": null,
            "uniform_bucket_level_access": true,
            "url": "gs://ai-ocr-smart-pipeline-ocr-input-staging",
            "versioning": [
              {
                "enabled": false
              }
            ],
            "website": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMCwidXBkYXRlIjoyNDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_storage_bucket",
      "name": "output",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "autoclass": [],
            "cors": [],
            "custom_placement_config": [],
            "default_event_based_hold": false,
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "output"
            },
            "enable_object_retention": false,
            "encryption": [],
            "force_destroy": false,
            "id": "ai-ocr-smart-pipeline-ocr-output-staging",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "output"
            },
            "lifecycle_rule": [
              {
                "action": [
                  {
                    "storage_class": "",
                    "type": "Delete"
                  }
                ],
                "condition": [
                  {
                    "age": 0,
                    "created_before": "",
                    "custom_time_before": "",
                    "days_since_custom_time": 0,
                    "days_since_noncurrent_time": 0,
                    "matches_prefix": [],
                    "matches_storage_class": [],
                    "matches_suffix": [],
                    "no_age": false,
                    "noncurrent_time_before": "",
                    "num_newer_versions": 3,
                    "send_age_if_zero": true,
                    "send_days_since_custom_time_if_zero": false,
                    "send_days_since_noncurrent_time_if_zero": false,
                    "send_num_newer_versions_if_zero": false,
                    "with_state": "ANY"
                  }
                ]
              },
              {
                "action": [
                  {
                    "storage_class": "NEARLINE",
                    "type": "SetStorageClass"
                  }
                ],
                "condition": [
                  {
                    "age": 90,
                    "created_before": "",
                    "custom_time_before": "",
                    "days_since_custom_time": 0,
                    "days_since_noncurrent_time": 0,
                    "matches_prefix": [],
                    "matches_storage_class": [],
                    "matches_suffix": [],
                    "no_age": false,
                    "noncurrent_time_before": "",
                    "num_newer_versions": 0,
                    "send_age_if_zero": true,
                    "send_days_since_custom_time_if_zero": false,
                    "send_days_since_noncurrent_time_if_zero": false,
                    "send_num_newer_versions_if_zero": false,
                    "with_state": "ANY"
                  }
                ]
              },
              {
                "action": [
                  {
                    "storage_class": "COLDLINE",
                    "type": "SetStorageClass"
                  }
                ],
                "condition": [
                  {
                    "age": 365,
                    "created_before": "",
                    "custom_time_before": "",
                    "days_since_custom_time": 0,
                    "days_since_noncurrent_time": 0,
                    "matches_prefix": [],
                    "matches_storage_class": [],
                    "matches_suffix": [],
                    "no_age": false,
                    "noncurrent_time_before": "",
                    "num_newer_versions": 0,
                    "send_age_if_zero": true,
                    "send_days_since_custom_time_if_zero": false,
                    "send_days_since_noncurrent_time_if_zero": false,
                    "send_num_newer_versions_if_zero": false,
                    "with_state": "ANY"
                  }
                ]
              }
            ],
            "location": "ASIA-NORTHEAST1",
            "logging": [],
            "name": "ai-ocr-smart-pipeline-ocr-output-staging",
            "project": "ai-ocr-smart-pipeline",
            "project_number": 672754156190,
            "public_access_prevention": "inherited",
            "requester_pays": false,
            "retention_policy": [],
            "rpo": null,
            "self_link": "https://www.googleapis.com/storage/v1/b/ai-ocr-smart-pipeline-ocr-output-staging",
            "soft_delete_policy": [
              {
                "effective_time": "2026-01-20T15:58:43.845Z",
                "retention_duration_seconds": 604800
              }
            ],
            "storage_class": "STANDARD",
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "output"
            },
            "timeouts": null,
            "uniform_bucket_level_access": true,
            "url": "gs://ai-ocr-smart-pipeline-ocr-output-staging",
            "versioning": [
              {
                "enabled": true
              }
            ],
            "website": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMCwidXBkYXRlIjoyNDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_storage_bucket",
      "name": "quarantine",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 2,
          "attributes": {
            "autoclass": [],
            "cors": [],
            "custom_placement_config": [],
            "default_event_based_hold": false,
            "effective_labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "quarantine"
            },
            "enable_object_retention": false,
            "encryption": [],
            "force_destroy": false,
            "id": "ai-ocr-smart-pipeline-ocr-quarantine-staging",
            "labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "quarantine"
            },
            "lifecycle_rule": [
              {
                "action": [
                  {
                    "storage_class": "",
                    "type": "Delete"
                  }
                ],
                "condition": [
                  {
                    "age": 30,
                    "created_before": "",
                    "custom_time_before": "",
                    "days_since_custom_time": 0,
                    "days_since_noncurrent_time": 0,
                    "matches_prefix": [],
                    "matches_storage_class": [],
                    "matches_suffix": [],
                    "no_age": false,
                    "noncurrent_time_before": "",
                    "num_newer_versions": 0,
                    "send_age_if_zero": true,
                    "send_days_since_custom_time_if_zero": false,
                    "send_days_since_noncurrent_time_if_zero": false,
                    "send_num_newer_versions_if_zero": false,
                    "with_state": "ANY"
                  }
                ]
              }
            ],
            "location": "ASIA-NORTHEAST1",
            "logging": [],
            "name": "ai-ocr-smart-pipeline-ocr-quarantine-staging",
            "project": "ai-ocr-smart-pipeline",
            "project_number": 672754156190,
            "public_access_prevention": "inherited",
            "requester_pays": false,
            "retention_policy": [],
            "rpo": null,
            "self_link": "https://www.googleapis.com/storage/v1/b/ai-ocr-smart-pipeline-ocr-quarantine-staging",
            "soft_delete_policy": [
              {
                "effective_time": "2026-01-20T15:58:43.016Z",
                "retention_duration_seconds": 604800
              }
            ],
            "storage_class": "STANDARD",
            "terraform_labels": {
              "environment": "staging",
              "service": "ocr-pipeline",
              "type": "quarantine"
            },
            "timeouts": null,
            "uniform_bucket_level_access": true,
            "url": "gs://ai-ocr-smart-pipeline-ocr-quarantine-staging",
            "versioning": [
              {
                "enabled": true
              }
            ],
            "website": []
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsInJlYWQiOjI0MDAwMDAwMDAwMCwidXBkYXRlIjoyNDAwMDAwMDAwMDB9LCJzY2hlbWFfdmVyc2lvbiI6IjIifQ==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_storage_bucket_iam_member",
      "name": "input_processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "b/ai-ocr-smart-pipeline-ocr-input-staging",
            "condition": [],
            "etag": "CBA=",
            "id": "b/ai-ocr-smart-pipeline-ocr-input-staging/roles/storage.objectAdmin/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "role": "roles/storage.objectAdmin"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.google_storage_bucket.input"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_storage_bucket_iam_member",
      "name": "output_processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "b/ai-ocr-smart-pipeline-ocr-output-staging",
            "condition": [],
            "etag": "CAI=",
            "id": "b/ai-ocr-smart-pipeline-ocr-output-staging/roles/storage.objectAdmin/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "role": "roles/storage.objectAdmin"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.google_storage_bucket.output"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_storage_bucket_iam_member",
      "name": "quarantine_processor",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "b/ai-ocr-smart-pipeline-ocr-quarantine-staging",
            "condition": [],
            "etag": "CAI=",
            "id": "b/ai-ocr-smart-pipeline-ocr-quarantine-staging/roles/storage.objectAdmin/serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "member": "serviceAccount:ocr-processor-staging@ai-ocr-smart-pipeline.iam.gserviceaccount.com",
            "role": "roles/storage.objectAdmin"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.google_storage_bucket.quarantine"
          ]
        }
      ]
    },
    {
      "module": "module.ocr_pipeline.module.storage",
      "mode": "managed",
      "type": "google_storage_notification",
      "name": "input_notification",
      "provider": "provider[\"registry.terraform.io/hashicorp/google\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "bucket": "ai-ocr-smart-pipeline-ocr-input-staging",
            "custom_attributes": {},
            "event_types": [
              "OBJECT_FINALIZE"
            ],
            "id": "ai-ocr-smart-pipeline-ocr-input-staging/notificationConfigs/2",
            "notification_id": "2",
            "object_name_prefix": "",
            "payload_format": "JSON_API_V1",
            "self_link": "https://www.googleapis.com/storage/v1/b/ai-ocr-smart-pipeline-ocr-input-staging/notificationConfigs/2",
            "topic": "//pubsub.googleapis.com/projects/ai-ocr-smart-pipeline/topics/ocr-document-uploaded-staging"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "module.ocr_pipeline.google_project_service.apis",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_bigquery_job",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.api_storage",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_aiplatform",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_bigquery",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_documentai",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_firestore",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_logging",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_monitoring",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_pubsub",
            "module.ocr_pipeline.module.iam.google_project_iam_member.processor_storage",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.gemini_api_key",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret.slack_webhook",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_gemini_access",
            "module.ocr_pipeline.module.iam.google_secret_manager_secret_iam_member.processor_slack_access",
            "module.ocr_pipeline.module.iam.google_service_account.api",
            "module.ocr_pipeline.module.iam.google_service_account.processor",
            "module.ocr_pipeline.module.iam.google_service_account_iam_member.api_storage_signing",
            "module.ocr_pipeline.module.storage.data.google_storage_project_service_account.gcs_account",
            "module.ocr_pipeline.module.storage.google_pubsub_topic.document_uploaded",
            "module.ocr_pipeline.module.storage.google_pubsub_topic_iam_member.storage_publisher",
            "module.ocr_pipeline.module.storage.google_storage_bucket.input"
          ]
        }
      ]
    }
  ],
  "check_results": null
}
